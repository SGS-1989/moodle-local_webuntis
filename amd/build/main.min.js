define(["jquery","core/ajax","core/notification"],function(c,a,b){return{debug:false,selectTarget:function(g,f){var e=this;if(e.debug){console.log("local_webuntis/main:selectTarget(uniqid, courseid)",g,f)}var d=c("#trigger_"+g+"_"+f+" i");c(d).css("filter","blur(4px)");var h=(c(d).hasClass("fa-toggle-on"))?0:1;if(e.debug){console.log("setto",h)}a.call([{methodname:"local_webuntis_selecttarget",args:{courseid:f,status:h},done:function(i){c(d).css("filter","unset");if(e.debug){console.log("=> Result for "+g+"-"+f,i)}if(typeof i.courseid!=="undefined"&&i.courseid==f&&typeof i.status!=="undefined"){if(e.debug){console.log("===> status",i.status)}if(i.status==1){c(d).removeClass("fa-toggle-off").addClass("fa-toggle-on")}else{c(d).removeClass("fa-toggle-on").addClass("fa-toggle-off")}}if(typeof i.canproceed!=="undefined"){if(e.debug){console.log("===> canproceed",i.canproceed)}if(i.canproceed==1){c("#proceed-"+g).removeClass("disabled")}else{c("#proceed-"+g).addClass("disabled")}}},fail:b.exception}])},setAutoCreate:function(g){var f=this;if(f.debug){console.log("local_webuntis/main:setAutoCreate(uniqid)",g)}var d=c("#autocreate-"+g);var e=c(d).find("i.fa");c(e).css("filter","blur(4px)");var h=(c(e).hasClass("fa-toggle-on"))?0:1;if(f.debug){console.log("setto",h)}a.call([{methodname:"local_webuntis_autocreate",args:{status:h},done:function(i){c(e).css("filter","unset");if(f.debug){console.log("=> Result for "+g,i)}if(typeof i.status!=="undefined"){if(f.debug){console.log("===> status",i.status)}if(i.status==1){c(e).removeClass("fa-toggle-off").addClass("fa-toggle-on")}else{c(e).removeClass("fa-toggle-on").addClass("fa-toggle-off")}}},fail:b.exception}])},tenantData:function(i,d){var e=this;if(e.debug){console.log("local_webuntis/main:tenantData(tenant_id, sender)",i,d)}var h=c(d).attr("data-field");var g=c(d).val();c(d).css("filter","blur(4px)");var f={tenant_id:i,field:h,value:g};if(e.debug){console.log("Sending",f)}a.call([{methodname:"local_webuntis_tenantdata",args:f,done:function(j){c(d).css("filter","unset");if(e.debug){console.log("=> Result",j)}if(j.status!=1){c(d).addClass("alert-danger")}else{c(d).addClass("alert-success");setTimeout(function(){c(d).removeClass("alert-success")},1000);c(d).removeClass("alert-danger")}},fail:b.exception}])}}});